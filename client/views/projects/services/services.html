<template name="services">
  {{#with project}}
    <!-- Page title -->
    <div class="one column row first-row">
      <div class="column">
        <span class="centered title">{{titleText}}</span>
      </div>
    </div>

    {{#if atLeastOneService}}
      <div class="one column row">
        <div class="column">

          <!-- List all services -->
          <div class="ui services list">
            {{#each allServices }}
              {{> serviceRow }}
            {{/each}}
          </div>
          <!-- ================= -->

        </div>
      </div>
      <div class="one column row">
        <div class="column">
          <div class="ui horizontal icon divider">
            <i class="add sign icon"></i>
          </div>
        </div>
      </div>
    {{/if}}

    <!-- Create New Service -->
    {{#if isOwner this}}
      <div class="one column row first-row">
        <div class="column">
          <span class="centered title">{{createText}}</span>
        </div>
      </div>
      <div class="one column row">
        <div class="column">
          <div class="ui form newservice" style="display: block;">
            <div class="field">
              <label>What is this query called?</label>
              <div class="ui labeled input">
                <input id="service-name" name="service-name" type="text" placeholder="Keep this short and simple">
                <div class="ui corner label">
                  <i class="icon asterisk"></i>
                </div>
              </div>
            </div>
            <div class="ui two fields">
              <div class="field">
                <label>What type of response do you want?</label>
                <div class="ui service type selection dropdown">
                  <input id="service-type" class="service type" type="hidden" name="service-type">
                  <div class="default text">a Simple Yes/No</div>
                  <i class="dropdown icon"></i>
                  <div class="menu">
                    <div class="item active" data-value="boolean">Simple Yes/No</div>
                    <div class="item" data-value="list">A choice from a list of options</div>
                    <div class="item" data-value="number">They should enter a number</div>
                    <div class="item" data-value="text">Some text</div>
                  </div>
                </div>
              </div>
              <div class="field service example control list">
                <label>Add some options:</label>
                <input id="option-text" type="text" placeholder="Enter option name">
              </div>
            </div>

            <div class="field">
              <div class="ui checkbox">
                <input class="sticky" id="isSticky" type="checkbox">
                <label class="sticky" for="isSticky">Sticky?</label>
              </div>
            </div>

            <div class="ui error message">
              <div class="header">We noticed some issues</div>
            </div>
          </div>
        </div>
      </div>
      <div class="one column row">
        <div class="column">
          <div class="service type example">
            <div class="ui segment">
              <div class="ui ribbon label">Example</div>
              <span class="service example thetext">Enter a name for the service above</span>
              <span class="service example controls">
                <span class="service example control boolean" style="display:none">
                  <div class="ui large buttons">
                    <div class="ui green button">Yes</div>
                    <div class="or"></div>
                    <div class="ui red button">No</div>
                  </div>
                </span>
                <span class="example service control list" style="display:none">
                  <div class="ui example service list selection dropdown">
                    <div class="default text">Add options</div>
                    <i class="dropdown icon"></i>
                    <div class="menu">
                    </div>
                  </div>            
                </span>
                <span class="service example control text" style="display:none">
                  <div class="ui input">
                    <input type="text">
                  </div> 
                </span>
                <span class="service example control number" style="display:none">
                  <div class="ui input">
                    <input type="number">
                  </div> 
                </span>
              </span>
            </div>
          </div>    
        </div>
      </div>
      <div class="one column row">
        <div class="column">
          <div class="ui service create service basic centered huge button">Create</div>
        </div>
      </div>
    {{/if}}
    <!-- ============== -->

  {{/with}}
</template>

<template name="serviceRow">
  <div class="item" data-id="{{_id}}">
    <div class="small right floated ui input">
      <input class="add service tag" type="text" placeholder="add tag" />
    </div>
    <div class="right floated ui small labels">
      {{#each tags}}
        {{> tag}}
      {{/each}}
    </div>
    <i class="red circular link remove service icon"></i>
    <div class="content">
      {{#if editing}}
        <input class="edit service name" type="text" value="{{name}}" />
      {{else}}
        <div class="display service name header">
          {{name}}
          {{#if isSticky}}
            <i class="sticky asterisk icon"></i>
          {{/if}}
        </div>
      {{/if}}
      <div class="description">{{describeType this}}</div>
    </div>
  </div>
</template>

